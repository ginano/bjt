(function(win,undefined){function extend(e,t,n,r){var i,s;e=e||{};if(!t){return}if(n instanceof Array){r=n;n=true}if(n===undefined){n=true}if(r&&(i=r.length)){while(i--){s=r[i];if(hasOwn.call(t,s)){(n||!e[s])&&(e[s]=cloneObject(t[s]))}}}else{for(i in t){s=t[i];if(hasOwn.call(t,i)){(n||!e[i])&&(e[i]=cloneObject(s))}}}return e}function cloneObject(o,isCloneFunction,isClonePrototype){function copyObject(obj,isCopyFunction,isCopyPrototype){var objClone,con,prop;if(obj===undefined||obj===null||"string"===typeof obj||"boolean"===typeof obj||"number"===typeof obj){return objClone=obj}con=obj.constructor;if(con==Object){objClone=new con}else if(con==Function){if(isCopyFunction){objClone=eval("["+obj.toString()+"]")[0]}else{return objClone=obj}}else{objClone=new con(obj.valueOf())}for(var key in obj){if(objClone[key]!=obj[key]){if(typeof obj[key]=="object"){objClone[key]=copyObject(obj[key],isCopyFunction)}else{objClone[key]=obj[key]}}}if(con==Function&&isCopyFunction&&isCopyPrototype){prop=obj.prototype;for(var key in prop){if(typeof prop[key]=="object"){objClone.prototype[key]=copyObject(prop[key],isCopyFunction,isCopyPrototype)}else{objClone.prototype[key]=prop[key]}}}objClone.toString=obj.toString;objClone.valueOf=obj.valueOf;return objClone}return copyObject(o,isCloneFunction,isClonePrototype)}function eachProp(e,t){var n,r;if(e instanceof Array){for(n=0,r=e.length;n<r;n++){t&&t(n,e);executeFunction(t,n,e[n])}return}if(e instanceof Object){for(n in e){if(hasOwn.call(e,n)){executeFunction(t,n,e[n])}}return}}function executeFunction(e){var t;if(isFunction(e)){t=slice.call(arguments,1);e.apply(null,t)}}function log(e,t){switch(t){case"error":case"warn":case"info":console[t](e);break;default:console.log(e);break}}function generateUID(e){e=e?e+"-":"";return e+Math.ceil(Math.random()*1e3)+"-"+Math.ceil(Math.random()*1e3)+"-"+Math.ceil(Math.random()*1e3)+"-"+Math.ceil(Math.random()*1e3)}function getUserAgent(){var e=win.navigator,t=e.userAgent.toLowerCase(),n=e.platform.toLowerCase(),r,i,s,o={};if(/msie/.test(t)){o.browser="ie";o.version=t.match(/msie\s*(\d+(?:\.\d+)?)/)[1]}else if(/firefox/.test(t)){o.browser="firefox";o.version=t.match(/firefox\/(\d+(?:\.\d+)?)/)[1]}else if(/opera/.test(t)){o.browser="opera";o.version=t.match(/version\/(\d+(?:\.\d+)?)/)[1]}else if(/chrome/.test(t)){o.browser="chrome";o.version=t.match(/chrome\/(\d+(?:\.\d+)?)/)[1]}else if(/safari/.test(t)){o.browser="safari";o.version=t.match(/version\/(\d+(?:\.\d+)?)/)[1]}else{o.browser="unkown";o.version="0.0"}r=t.match(/webkit\/(\d+(?:\.\d+)?)/);if(r&&r[1]){o.webkit=r[1]}if(/android/.test(t)){o.os=t.match(/android\s+(\d+(?:\.\d+)*)/)[0];o.bit="32"}else if(/iphone/.test(t)){o.os=t.match(/iphone\s+os\s+\d/)[0];o.bit="32"}else if(/ipad/.test(t)){o.os=t.match(/os\s+\d/)[0];o.bit="32"}else if(/hpwos/.test(t)){o.os=t.match(/hpwos\/(\d+(?:\.\d+)*)/)[0];o.bit="32"}else if(/windows\s+phone/.test(t)){o.os="wp"+t.match(/windows\s+phone\s+(?:os\s+)?(\d+(?:\.\d+)*)/)[1];o.bit="32"}else if(/series40/.test(t)){o.os="symbian series40";o.bit="32"}else if(/symbianos/.test(t)){o.os="symbian series60";o.bit="32"}else if(/blackberry/.test(t)){o.os="blackberry";o.bit="32"}else if(/win/.test(n)){i={6.2:"windows 8",6.1:"windows 7","6.0":"windows vista",5.2:"windows 2003",5.1:"windows xp","5.0":"windows 2000"};r=t.match(/windows\s+nt\s+(\d\.\d)/);r=r&&r[1];o.os=i[r]||"windows";o.bit=/wow64|win64/.test(t)?"64":"32"}else if(/mac/.test(n)){o.os="macos";o.bit=/wow64|win64/.test(t)?"64":"32"}else if(/linux/.test(n)){o.os="linux";o.bit=/x86_64|i686/.test(t)?"64":"32"}else if(/x11/.test(n)){o.os="unix";o.bit=/x86_64|i686/.test(t)?"64":"32"}else{o.os="unkown";o.bit=""}return o}function isLoadedResource(e){var t,n,r;if(LoadedList[e]){return true}if(checkFileExtension("css",e)){stylesheet=document.styleSheets;r=stylesheet.length;while(r--){LoadedList[stylesheet[r].href]=true}}if(LoadedList[e]){return true}if(checkFileExtension("js",e)){n=document.scripts;r=n.length;while(r--){LoadedList[n[r].href]=true}}if(LoadedList[e]){return true}else{return false}}function isDownloading(e,t){if(undefined===t){return DownloadingList[e]===true}if(!t){delete DownloadingList[e]}else{DownloadingList[e]=true}}function loadJS(e,t){var n,r,i=function(){LoadedList[e]=true;s();log("load js file success:"+e);executeFunction(t)},s=function(){isDownloading(e,false);r.onload=r.onreadystatechange=r.onerror=null;n.removeChild(r);n=r=null},o=1,u=function(){if(!isDownloading(e)&&isLoadedResource(e)){executeFunction(t)}else if(o>10){alert("js file ["+e+"] download faild!");log("js file ["+e+"] download faild!","error");return}else{setTimeout(u,o++*200)}};if(isLoadedResource(e)){executeFunction(t);return}if(isDownloading(e)){setTimeout(u,200);return}n=headEl;r=document.createElement("script");r.type="text/javascript";r.onerror=function(){s();alert("load js file error:"+e,"error");log("load js file error:"+e,"error")};if(isFunction(t)){if(UA.browser=="ie"&&UA.version<9){r.onreadystatechange=function(){if(/loaded|complete/.test(r.readyState)){i()}}}else{r.onload=function(){i()}}}isDownloading(e,true);r.src=e;n.appendChild(r)}function loadCSS(e,t){var n,r,i,s,o,u,a,f=1,l=(UA.webkit||0)-0,c=function(){LoadedList[e]=true;h();log("load css file success:"+e);executeFunction(t)},h=function(){isDownloading(e,false);timer=null;r.onload=r.onerror=null;n=null},p=function(){if(!isDownloading(e)&&isLoadedResource(e)){executeFunction(t)}else if(f>10){alert("css file ["+e+"] download faild!");log("css file ["+e+"] download faild!","error");return}else{setTimeout(p,f++*200)}};if(isLoadedResource(e)){executeFunction(t);return}if(isDownloading(e)){setTimeout(p,200);return}n=headEl;r=document.createElement("link");r.rel="stylesheet";r.type="text/css";r.href=e;r.onerror=function(){h();log("load css file error:"+e,"error")};isDownloading(e,true);if(isFunction(t)){if(UA.browser=="ie"||UA.browser=="firefox"&&UA.version>8.9||UA.browser=="opera"||UA.browser=="chrome"&&UA.version>19||UA.browser=="safari"&&UA.version>5.9||l>536.1){r.onload=function(){c()};n.appendChild(r)}else if(UA.browser=="chrome"&&UA.version>9||UA.browser=="safari"&&UA.version>4.9||UA.browser=="firefox"||l>534.14){n.appendChild(r);i=document.createElement("img");i.onerror=function(){i.onerror=null;i=null;c()};i.src=e}else{n.appendChild(r);a=function(){var t=function(){var t=false;if(l>0&&document.stylesheet){t=isLoadedResource(e)}else{try{t=!!r.sheet.cssRules;t=true}catch(n){if(n.name==="NS_ERROR_DOM_SECURITY_ERR"){t=true}}}return t};if(f>10){alert("css file"+e+" download faild!");log("css file"+e+" download faild!","error");c();return}else if(t()){c()}else{setTimeout(a,++f*200)}};setTimeout(a,200)}}else{n.appendChild(r)}}function asyncLoad(e,t,n){var r=this,i=!(n===false),s=false,o,u,e="string"===typeof e?[e]:e;len=e instanceof Array&&e.length,load=function(e,t){if(checkFileExtension("js",e)){loadJS(e,t)}else{loadCSS(e,t)}},orderLoad=function(){o=e.shift();if(o){load(o,orderLoad)}else{executeFunction(t)}};if(!len||len<1){return}if(i){orderLoad()}else{for(u=0,o=0;u<len;u++){load(e[u],function(){o+=1;if(o==len){executeFunction(t)}})}}}function isUrl(e){return/^(\S+:)?\/\/\S+$/i.test(e)}function isRelativePath(e){return/^(?:\/\S+|\.\/\S+|\.\.\/\S+|\S+\/)/i.test(e)}function checkFileExtension(e,t){var n=new RegExp("\\."+e+"([\\?#]\\S+)?$","i");return n.test(t)}function getPathInfo(e){var t={origin:"",pathName:"",fileName:"",search:"",hash:""},n;n=e.match(/^((?:\w+:)?\/\/[a-z0-9\-]+(?:\.[a-z0-9\-]+)*)((?:\/[^\/]+)*\/)([^?#\.]+(?:\.[^?#\.]+)*)?(\?[^#]+)?(#\S+)?/i);if(n&&n.length){t.origin=n[1]||"";t.pathName=n[2]||"/";t.fileName=n[3]||"";t.search=n[4]||"";t.hash=n[5]||"";t.href=e}return t}function getRelativePath(e,t){var n,r,i=location.href;var s,o,u,a,f,l,c=[];if(isUrl(e)){n=getPathInfo(e);e=n.pathName}if(isUrl(t)){r=getPathInfo(t);t=r.pathName}if(r&&n&&n.origin!=r.origin){return r.href}if(!/^\//.test(e)){e=getAbsolutePath(i,e)}if(!/^\//.test(t)){t=getAbsolutePath(i,t)}s=e.split("/");if(s[s.length-1]==""){s.pop()}o=t.split("/");for(u=0,a=o.length;u<a;u++){if(o[u]!=s[u]){break}}c=o.slice(u);f=s.length-u;if(f>0){while(f--){c.unshift("..")}}else{c.unshift(".")}return c.join("/")}function getAbsolutePath(e,t,n){var r,i,s;if(isUrl(e)){r=getPathInfo(e);e=r.pathName}if(!n&&!/^\//.test(e)){log(e+"is not an absolute path","error");return t}if(/^\//.test(t)){return t}i=e.split("/");s=t.split("/");i.pop();for(var o=0,u=s.length;o<u;o++){switch(s[o]){case".":break;case"..":i.pop();break;default:i.push(s[o]);break}}return(r?r.origin:"")+i.join("/")}function afterDomReady(e){var t=document;if(ISDOMREADY||/complete/i.test(t.readyState)){ISDOMREADY=true;executeFunction(e)}else if(t.addEventListener){t.addEventListener("DOMContentLoaded",function(){if(ISDOMREADY){return}ISDOMREADY=true;executeFunction(e)},false)}else if(t.attachEvent){t.attachEvent("onreadystatechange",function(){if(ISDOMREADY){return}ISDOMREADY=true;executeFunction(e)},false)}}var hasOwn=Object.prototype.hasOwnProperty,slice=[].slice;var LoadedList={},DownloadingList={},headEl=document.getElementsByTagName("head")[0],isFunction=function(e){return e instanceof Function},UA=getUserAgent();var ISDOMREADY=false;win.BJT={version:"0.0.1",status:"dev",Util:{UA:UA,hasOwn:hasOwn,extend:extend,cloneObject:cloneObject,eachProp:eachProp,executeFunction:executeFunction,log:log,GUID:generateUID,loadJS:loadJS,loadCSS:loadCSS,asyncLoad:asyncLoad,getAbsolutePath:getAbsolutePath,getPathInfo:getPathInfo,getRelativePath:getRelativePath,isUrl:isUrl,isRelativePath:isRelativePath,afterDomReady:afterDomReady,checkFileExtension:checkFileExtension}}})(window);(function(e,t){function f(e,t,n){this.init.apply(this,arguments)}function l(e,t,r){try{var i=new f(e,t,r),s=n[i.moduleName];if(s){o("[warn]:"+i.moduleName+" has been defined again!","warn")}n[i.moduleName]=i;o('[register]: module "'+("string"===typeof e?e:"anonymous "+i.moduleName)+'" register success!');return i}catch(u){o('[register]: module "'+("string"===typeof e?e:"anonymous "+e)+'" register faild!\n	 becase of that:\n		'+u,"error")}}function c(e,t){try{var r=n[e],i;if(r){o('[require]: module "'+e+'" required success!');i=r.getExports();s.executeFunction(t,i);return i}else{s.asyncLoad(f.getPathByModuleName(e),function(){var r=n[e];r=r&&r.getExports?r.getExports():{};s.executeFunction(t,r)});return}}catch(u){o('[require]: module "'+e+'" required failed!\n 	 becase of that:\n		'+u,"error")}}function h(e){s.extend(u,e)}function p(t){e.BJT.status=t||"dev"}var n={},r=0,i=e.BJT,s=i.Util,o=s.log,u={mod:"../",core:"../",page:"../",widget:"../",util:"../"},a={};f.getPathByModuleName=function(e){var t=/\S+\.\S+$/i.test(e)?e:e+".js",n;for(var r in u){n=new RegExp("^"+r+"/[^/]+","i");if(n.test(t)){return u[r]+t}}return t};f.getRealModuleName=function(e,t){if(/^(\.\/|\.\.\/)\S+/i.test(t)){return s.getAbsolutePath(e+".js",t,true)}return t};f.getAllDependences=function(e,t){function g(){if(h){return}for(var n in a){if(!a[n]){return}}h=true;s.executeFunction(t,e)}var r=[],o=e.dependences,u=e.moduleName,a={},c=[],h=false,p,d,v,m;if(o instanceof Array&&(d=o.length)){p=d;while(p--){v=f.getRealModuleName(u,o[p]);c.unshift(v);a[v]=false}for(p=0;p<d;p++){v=n[c[p]];if(s.checkFileExtension("css",c[p])){if(i.status!="dev"){l(c[p],function(){return{}});a[c[p]]=true;g()}else{(function(e){var t=f.getPathByModuleName(e);s.asyncLoad(t,function(){l(e,function(){return{url:t}});a[e]=true;g()})})(c[p])}}else if(v){f.getAllDependences(v,function(e){a[e.moduleName]=true;g()})}else{(function(e){var t=f.getPathByModuleName(e);s.asyncLoad(t,function(){var t=n[e];f.getAllDependences(t,function(t){a[e]=true;g()})})})(c[p])}}}else{g()}};f.prototype={getPathByModuleName:function(){return f.getPathByModuleName(this.moduleName)},getAllDependences:function(e){return f.getAllDependences(this,e)},init:function(e,t,n){var i=typeof e;switch(i){case"string":if("function"===typeof t){n=t;t=[]}else if(!t instanceof Array){o("module "+e+' init faild,becaseof the invalid argument:"req".',"error");return}break;case"object":if(e instanceof Array){n=t;t=e;e=""}else{o("module "+e+' init faild, becaseof the invalid arguments:"req".',"error");return}break;case"function":n=e;t=[];e="";break;default:o("module "+e+" init faild, becaseof the invalid arguments.","error");return;break}this.dependences=t;this.factory=n;this.moduleName=e||"anonymous_"+r++;return this},getRequireList:function(){var e=[],t,r,i,s=this,u=s.moduleName,a=s.dependences;if(a instanceof Array){for(t=0,r=a.length;t<r;t++){i=n[f.getRealModuleName(u,a[t])];if(i){e.push(i.getExports())}else{o('module "'+a[t]+'" not exist when it been required in module:'+this.moduleName,"warn");e.push({})}}}return e},getExports:function(){if(!this.exports){this.executeit("___doit___")}return this.exports},executeit:function(e){function n(){var e=t.getRequireList();t.exports=t.factory.apply(t,e);o('[execute]: module "'+t.moduleName+'" execute success!')}var t=this;if(/domready/i.test(e)){s.afterDomReady(function(){t.executeit()});return}try{if(e!=="___doit___"){t.getAllDependences(function(){n()})}else{n()}return t}catch(r){o('[execute]: module "'+t.moduleName+'" execute failed!\n 	 becase of that:\n		'+r,"error")}}};l("bjt",function(){return e.BJT});l("globalSetting",function(){return{setPath:h,setStatus:p}});e.define=e.BJT.define=l;e.require=e.BJT.require=c;o("core_file_load_success")})(window)